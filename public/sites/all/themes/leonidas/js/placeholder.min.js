function initInputs(){for(var a={clearInputs:!0,clearTextareas:!1,clearPasswords:!1},b=[].concat(PlaceholderInput.convertToArray(document.getElementsByTagName("input")),PlaceholderInput.convertToArray(document.getElementsByTagName("textarea"))),c=0;c<b.length;c++)if(b[c].className.indexOf("default")<0){var d=PlaceholderInput.getInputType(b[c]);(a.clearInputs&&"text"===d||a.clearTextareas&&"textarea"===d||a.clearPasswords&&"password"===d)&&new PlaceholderInput({element:b[c],wrapWithElement:!1,showUntilTyping:!1,getParentByClass:!1,placeholderAttr:b[c].getAttribute("placeholder")?"placeholder":"value"})}}!function(){function b(a,b){return a.className?a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)")):!1}function c(a,c){b(a,c)||(a.className+=" "+c)}function d(a,c){b(a,c)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+c+"(\\s|$)")," "))}function e(a,b){return function(){return a.apply(b,arguments)}}function f(a,b){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,null)[b]:a.currentStyle?a.currentStyle[b]:a.style[b]}var a=[];PlaceholderInput=function(){this.options={element:null,showUntilTyping:!1,wrapWithElement:!1,getParentByClass:!1,placeholderAttr:"value",inputFocusClass:"focus",inputActiveClass:"text-active",parentFocusClass:"parent-focus",parentActiveClass:"parent-active",labelFocusClass:"label-focus",labelActiveClass:"label-active",fakeElementClass:"input-placeholder-text"},a.push(this),this.init.apply(this,arguments)},PlaceholderInput.convertToArray=function(a){for(var b=[],c=0,d=b.length=a.length;d>c;c++)b[c]=a[c];return b},PlaceholderInput.getInputType=function(a){return(a.type?a.type:a.tagName).toLowerCase()},PlaceholderInput.refreshAllInputs=function(b){for(var c=0;c<a.length;c++)b!==a[c]&&a[c].refreshState()},PlaceholderInput.prototype={init:function(a){this.setOptions(a),this.element&&this.element.PlaceholderInst?this.element.PlaceholderInst.refreshClasses():(this.element.PlaceholderInst=this,("text"==this.elementType||"password"==this.elementType||"textarea"==this.elementType)&&(this.initElements(),this.attachEvents(),this.refreshClasses()))},setOptions:function(a){for(var b in a)a.hasOwnProperty(b)&&(this.options[b]=a[b]);this.options.element&&(this.element=this.options.element,this.elementType=PlaceholderInput.getInputType(this.element),this.wrapWithElement="password"===this.elementType||this.options.showUntilTyping?!0:this.options.wrapWithElement||"placeholder"===this.options.placeholderAttr,this.setOrigValue("value"==this.options.placeholderAttr?this.element.defaultValue:this.element.getAttribute(this.options.placeholderAttr)))},setOrigValue:function(a){this.origValue=a},initElements:function(){if(this.wrapWithElement&&(this.element.value="",this.element.removeAttribute(this.options.placeholderAttr),this.fakeElement=document.createElement("span"),this.fakeElement.className=this.options.fakeElementClass,this.fakeElement.innerHTML+=this.origValue,this.fakeElement.style.color=f(this.element,"color"),this.fakeElement.style.position="absolute",this.element.parentNode.insertBefore(this.fakeElement,this.element)),this.element.id){this.labels=document.getElementsByTagName("label");for(var a=0;a<this.labels.length;a++)if(this.labels[a].htmlFor===this.element.id){this.labelFor=this.labels[a];break}}if(this.elementParent=this.element.parentNode,"string"==typeof this.options.getParentByClass)for(var c=this.element;c.parentNode;){if(b(c.parentNode,this.options.getParentByClass)){this.elementParent=c.parentNode;break}c=c.parentNode}},attachEvents:function(){this.element.onfocus=e(this.focusHandler,this),this.element.onblur=e(this.blurHandler,this),this.options.showUntilTyping&&(this.element.onkeydown=e(this.typingHandler,this),this.element.onpaste=e(this.typingHandler,this)),this.wrapWithElement&&(this.fakeElement.onclick=e(this.focusSetter,this))},togglePlaceholderText:function(a){this.wrapWithElement?this.fakeElement.style.display=a?"":"none":this.element.value=a?this.origValue:""},focusSetter:function(){this.element.focus()},focusHandler:function(){clearInterval(this.checkerInterval),this.checkerInterval=setInterval(e(this.intervalHandler,this),1),this.focused=!0,this.element.value.length&&this.element.value!==this.origValue||this.options.showUntilTyping||this.togglePlaceholderText(!1),this.refreshClasses()},blurHandler:function(){clearInterval(this.checkerInterval),this.focused=!1,this.element.value.length&&this.element.value!==this.origValue||this.togglePlaceholderText(!0),this.refreshClasses(),PlaceholderInput.refreshAllInputs(this)},typingHandler:function(){setTimeout(e(function(){this.element.value.length&&(this.togglePlaceholderText(!1),this.refreshClasses())},this),10)},intervalHandler:function(){"undefined"==typeof this.tmpValue&&(this.tmpValue=this.element.value),this.tmpValue!=this.element.value&&PlaceholderInput.refreshAllInputs(this)},refreshState:function(){this.wrapWithElement&&(this.element.value.length&&this.element.value!==this.origValue?this.togglePlaceholderText(!1):this.element.value.length||this.togglePlaceholderText(!0)),this.refreshClasses()},refreshClasses:function(){this.textActive=this.focused||this.element.value.length&&this.element.value!==this.origValue,this.setStateClass(this.element,this.options.inputFocusClass,this.focused),this.setStateClass(this.elementParent,this.options.parentFocusClass,this.focused),this.setStateClass(this.labelFor,this.options.labelFocusClass,this.focused),this.setStateClass(this.element,this.options.inputActiveClass,this.textActive),this.setStateClass(this.elementParent,this.options.parentActiveClass,this.textActive),this.setStateClass(this.labelFor,this.options.labelActiveClass,this.textActive)},setStateClass:function(a,b,e){a&&(e?c(a,b):d(a,b))}}}(),window.addEventListener?window.addEventListener("load",initInputs,!1):window.attachEvent&&window.attachEvent("onload",initInputs);