!function(a){function b(a,b){this.init(a,b)}a.fn.gallery=function(a){var c=Array.prototype.slice.call(arguments);return c.shift(),this.each(function(){this.galControl&&"string"==typeof a?"function"==typeof this.galControl[a]&&this.galControl[a].apply(this.galControl,c):this.galControl=new b(this,a)}),this},b.prototype={options:{},init:function(b,c){if(this.options=a.extend({duration:700,slideElement:1,autoRotation:!1,effect:!1,listOfSlides:".list > li",switcher:!1,autoSwitcher:!1,disableBtn:!1,nextBtn:"a.link-next, a.btn-next, a.next",prevBtn:"a.link-prev, a.btn-prev, a.prev",circle:!0,clone:!1,direction:!1,event:"click"},c||{}),this.context=a(b),this.els=this.context.find(this.options.listOfSlides),this.list=this.els.parent(),this.count=this.els.length,this.autoRotation=this.options.autoRotation,this.direction=this.options.direction,this.duration=this.options.duration,this.options.clone&&(this.list.append(this.els.clone()),this.list.prepend(this.els.clone()),this.els=this.context.find(this.options.listOfSlides)),this.wrap=this.list.parent(),this.options.nextBtn&&(this.nextBtn=this.context.find(this.options.nextBtn)),this.options.prevBtn&&(this.prevBtn=this.context.find(this.options.prevBtn)),this.calcParams(this),this.options.autoSwitcher){this.switcherHolder=this.context.find(this.options.switcher).empty(),this.switchPattern=a('<ul class="'+(1==this.options.autoSwitcher?"":this.options.autoSwitcher)+'"></ul>');for(var e=0;e<this.max+1;e++)a('<li><a href="#">'+e+"</a></li>").appendTo(this.switchPattern);this.switchPattern.appendTo(this.switcherHolder),this.switcher=this.context.find(this.options.switcher).find("li"),this.active=0}else this.options.switcher?(this.switcher=this.context.find(this.options.switcher),this.active=this.switcher.index(this.switcher.filter(".active:eq(0)"))):this.active=this.els.index(this.els.filter(".active:eq(0)"));this.active<0&&(this.active=0),this.last=this.active,this.options.switcher&&this.switcher.removeClass("active").eq(this.active).addClass("active"),this.options.clone&&(this.active+=this.count),this.options.effect?this.els.css({opacity:0}).removeClass("active").eq(this.active).addClass("active").css({opacity:1}).css("opacity","auto"):this.direction?this.list.css({marginTop:-this.mas[this.active]}):this.list.css({marginLeft:-this.mas[this.active]}),this.options.nextBtn&&this.initEvent(this,this.nextBtn,!0),this.options.prevBtn&&this.initEvent(this,this.prevBtn,!1),this.initWindow(this,a(window)),this.autoRotation&&this.runTimer(this),this.options.switcher&&this.initEventSwitcher(this,this.switcher),!this.options.disableBtn||this.options.circle||this.options.clone||this.disableControls()},calcParams:function(b){this.mas=[],this.sum=0,this.max=this.count-1,this.width=0,this.els.each(function(){b.mas.push(b.width),b.width+=b.direction?a(this).outerHeight(!0):a(this).outerWidth(!0),b.sum+=b.direction?a(this).outerHeight(!0):a(this).outerWidth(!0)}),this.finish=this.direction?this.sum-this.wrap.outerHeight():this.sum-this.wrap.outerWidth();for(var c=0;c<this.count;c++)if(this.mas[c]>=this.finish){this.max=c;break}},changeSettings:function(a,b){this[a]=b},fadeElement:function(){this.els.eq(this.last).animate({opacity:0},{queue:!1,duration:this.duration}),this.els.removeClass("active").eq(this.active).addClass("active").animate({opacity:1},{queue:!1,duration:this.duration,complete:function(){a(this).css("opacity","auto")}}),this.options.switcher&&this.switcher.removeClass("active").eq(this.active).addClass("active"),this.last=this.active},scrollElement:function(a){this.direction?this.list.animate({marginTop:a?-this.finish:-this.mas[this.active]},{queue:!1,duration:this.duration}):this.list.animate({marginLeft:a?-this.finish:-this.mas[this.active]},{queue:!1,duration:this.duration}),this.options.switcher&&this.switcher.removeClass("active").eq(this.options.clone?this.active<this.count?this.active/this.options.slideElement:this.active>=2*this.count?(this.active-2*this.count)/this.options.slideElement:(this.active-this.count)/this.options.slideElement:this.active/this.options.slideElement).addClass("active")},runTimer:function(a){a._t&&clearTimeout(a._t),a._t=setInterval(function(){a.nextStep()},this.autoRotation)},initEventSwitcher:function(b,c){c.bind(b.options.event,function(){return a(this).hasClass("active")||(b.active=b.switcher.index(a(this))*b.options.slideElement,b.options.clone&&(b.active+=b.count),b.initMove()),!1})},initEvent:function(a,b,c){b.bind(a.options.event,function(){return c?a.nextStep():a.prevStep(),a._t&&clearTimeout(a._t),a.autoRotation&&a.runTimer(a),!1})},disableControls:function(){this.prevBtn.removeClass(this.options.disableBtn),this.nextBtn.removeClass(this.options.disableBtn),this.active>=this.max&&this.nextBtn.addClass(this.options.disableBtn),this.active<=0&&this.prevBtn.addClass(this.options.disableBtn)},initMove:function(){var a=!1;this.active>=this.max&&!this.options.clone&&(a=!0,this.active=this.max),this._t&&clearTimeout(this._t),this.options.effect?this.fadeElement():this.scrollElement(a),this.autoRotation&&this.runTimer(this),!this.options.disableBtn||this.options.circle||this.options.clone||this.disableControls()},nextStep:function(){var a=!1;this.active=this.active+this.options.slideElement,!this.options.disableBtn||this.options.circle||this.options.clone||this.disableControls(),this.options.clone?this.active>2*this.count&&(this.direction?this.list.css({marginTop:-this.mas[this.count]}):this.list.css({marginLeft:-this.mas[this.count]}),this.active=this.count+this.options.slideElement):this.active>=this.max&&(this.options.circle?this.active>this.max?this.active=0:(this.active=this.max,a=!0):(this.active=this.max,a=!0)),this.options.effect?this.fadeElement():this.scrollElement(a)},prevStep:function(){var a=!1;this.active=this.active-this.options.slideElement,!this.options.disableBtn||this.options.circle||this.options.clone||this.disableControls(),this.options.clone?this.active<0&&(this.direction?this.list.css({marginTop:-this.mas[this.count]}):this.list.css({marginLeft:-this.mas[this.count]}),this.active=this.count-1):this.active<0&&(this.options.circle?(this.active=this.max,a=!0):this.active=0),this.options.effect?this.fadeElement():this.scrollElement(a)},initWindow:function(b,c){c.focus(a.proxy(this.play,this)),c.blur(a.proxy(this.stop,this))},stop:function(){this._t&&clearTimeout(this._t)},play:function(){this._t&&clearTimeout(this._t),this.autoRotation&&this.runTimer(this)}}}(jQuery),function(a){function b(b){this.options=a.extend({mask:"div.mask",slider:">*",slides:">*",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",circularRotation:!0,disableWhileAnimating:!1,autoRotation:!1,pauseOnHover:c?!1:!0,maskAutoSize:!1,switchTime:4e3,animSpeed:600,event:"click",swipeGap:!1,swipeThreshold:50,handleTouch:!0,vertical:!1,useTranslate3D:!1,step:!1},b),this.init()}b.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.refreshPosition(),this.refreshState(!0),this.resumeRotation(),this.makeCallback("onInit",this))},findElements:function(){if(this.fullSizeFunction=this.options.vertical?"outerHeight":"outerWidth",this.innerSizeFunction=this.options.vertical?"height":"width",this.slideSizeFunction="outerHeight",this.maskSizeProperty="height",this.animProperty=this.options.vertical?"marginTop":"marginLeft",this.swipeProperties=this.options.vertical?["up","down"]:["left","right"],this.gallery=a(this.options.holder),this.mask=this.gallery.find(this.options.mask),this.slider=this.mask.find(this.options.slider),this.slides=this.slider.find(this.options.slides),this.btnPrev=this.gallery.find(this.options.btnPrev),this.btnNext=this.gallery.find(this.options.btnNext),this.currentStep=0,this.stepsCount=0,this.options.step===!1){var b=this.slides.filter("."+this.options.activeClass);b.length&&(this.currentStep=this.slides.index(b))}this.calculateOffsets(),a(window).bind("resize orientationchange",a.proxy(this.onWindowResize,this)),"string"==typeof this.options.generatePagination?this.buildPagination():(this.pagerLinks=this.gallery.find(this.options.pagerLinks),this.attachPaginationEvents()),this.btnPlay=this.gallery.find(this.options.btnPlay),this.btnPause=this.gallery.find(this.options.btnPause),this.btnPlayPause=this.gallery.find(this.options.btnPlayPause),this.curNum=this.gallery.find(this.options.currentNumber),this.allNum=this.gallery.find(this.options.totalNumber)},attachEvents:function(){this.btnPrev.bind(this.options.event,this.bindScope(function(a){this.prevSlide(),a.preventDefault()})),this.btnNext.bind(this.options.event,this.bindScope(function(a){this.nextSlide(),a.preventDefault()})),this.options.pauseOnHover&&this.gallery.hover(this.bindScope(function(){this.options.autoRotation&&(this.galleryHover=!0,this.pauseRotation())}),this.bindScope(function(){this.options.autoRotation&&(this.galleryHover=!1,this.resumeRotation())})),this.btnPlay.bind(this.options.event,this.bindScope(this.startRotation)),this.btnPause.bind(this.options.event,this.bindScope(this.stopRotation)),this.btnPlayPause.bind(this.options.event,this.bindScope(function(){this.gallery.hasClass(this.options.autorotationActiveClass)?this.stopRotation():this.startRotation()})),c&&(this.options.useTranslate3D&&this.slider.css({"-webkit-transform":"translate3d(0px, 0px, 0px)"}),this.options.handleTouch&&a.fn.swipe&&this.mask.swipe({threshold:this.options.swipeThreshold,allowPageScroll:"vertical",swipeStatus:a.proxy(function(a,b,c,d){if("start"===b)this.originalOffset=parseInt(this.slider.stop(!0,!1).css(this.animProperty));else if("move"===b){if(c===this.swipeProperties[0]||c===this.swipeProperties[1]){var e=this.originalOffset+d*(c===this.swipeProperties[0]?-1:1);this.options.swipeGap||(e=Math.max(Math.min(0,e),this.maxOffset)),this.tmpProps={},this.tmpProps[this.animProperty]=e,this.slider.css(this.tmpProps),a.preventDefault()}}else"cancel"===b&&this.switchSlide()},this),swipe:a.proxy(function(a,b){b===this.swipeProperties[0]?this.currentStep===this.stepsCount-1?this.switchSlide():this.nextSlide():b===this.swipeProperties[1]&&(0===this.currentStep?this.switchSlide():this.prevSlide())},this)}))},onWindowResize:function(){this.galleryAnimating?this.resizeQueue=!0:(this.calculateOffsets(),this.refreshPosition(),this.buildPagination(),this.refreshState(),this.resizeQueue=!1)},refreshPosition:function(){this.currentStep=Math.min(this.currentStep,this.stepsCount-1),this.tmpProps={},this.tmpProps[this.animProperty]=this.getStepOffset(),this.slider.stop().css(this.tmpProps)},calculateOffsets:function(){if(this.maskSize=this.mask[this.innerSizeFunction](),this.sumSize=this.getSumSize(),this.maxOffset=this.maskSize-this.sumSize,this.options.vertical&&this.options.maskAutoSize){this.options.step=1,this.stepsCount=this.slides.length,this.stepOffsets=[0];for(var b=0,c=0;c<this.slides.length;c++)b-=a(this.slides[c])[this.fullSizeFunction](!0),this.stepOffsets.push(b);return this.maxOffset=b,void 0}if("number"==typeof this.options.step&&this.options.step>0){this.slideDimensions=[],this.slides.each(a.proxy(function(b,c){this.slideDimensions.push(a(c)[this.fullSizeFunction](!0))},this)),this.stepOffsets=[0],this.stepsCount=1;for(var b=0,d=0;b>this.maxOffset;)b-=this.getSlideSize(d,d+this.options.step),d+=this.options.step,this.stepOffsets.push(Math.max(b,this.maxOffset)),this.stepsCount++}else{this.stepSize=this.maskSize,this.stepsCount=1;for(var b=0;b>this.maxOffset;)b-=this.stepSize,this.stepsCount++}},getSumSize:function(){var b=0;return this.slides.each(a.proxy(function(c,d){b+=a(d)[this.fullSizeFunction](!0)},this)),this.slider.css(this.innerSizeFunction,b),b},getStepOffset:function(a){return a=a||this.currentStep,"number"==typeof this.options.step?this.stepOffsets[this.currentStep]:Math.max(-this.currentStep*this.stepSize,this.maxOffset)},getSlideSize:function(a,b){for(var c=0,d=a;d<Math.min(b,this.slideDimensions.length);d++)c+=this.slideDimensions[d];return c},buildPagination:function(){if(this.options.generatePagination){this.pagerHolder=this.gallery.find(this.options.generatePagination).empty(),this.pagerList=a(this.options.pagerList).appendTo(this.pagerHolder);for(var b=0;b<this.stepsCount;b++)a(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(b+1);this.pagerLinks=this.pagerList.children(),this.attachPaginationEvents()}},attachPaginationEvents:function(){this.pagerLinks.each(this.bindScope(function(b,c){a(c).bind(this.options.event,this.bindScope(function(){return this.numSlide(b),!1}))}))},prevSlide:function(){this.options.disableWhileAnimating&&this.galleryAnimating||(this.currentStep>0?(this.currentStep--,this.switchSlide()):this.options.circularRotation&&(this.currentStep=this.stepsCount-1,this.switchSlide()))},nextSlide:function(a){this.options.disableWhileAnimating&&this.galleryAnimating||(this.currentStep<this.stepsCount-1?(this.currentStep++,this.switchSlide()):(this.options.circularRotation||a===!0)&&(this.currentStep=0,this.switchSlide()))},numSlide:function(a){this.currentStep!=a&&(this.currentStep=a,this.switchSlide())},switchSlide:function(){this.galleryAnimating=!0,this.tmpProps={},this.tmpProps[this.animProperty]=this.getStepOffset(),this.slider.stop().animate(this.tmpProps,{duration:this.options.animSpeed,complete:this.bindScope(function(){this.galleryAnimating=!1,this.resizeQueue&&this.onWindowResize(),this.makeCallback("onChange",this),this.autoRotate()})}),this.refreshState(),this.makeCallback("onBeforeChange",this)},refreshState:function(a){(1===this.options.step||this.stepsCount===this.slides.length)&&this.slides.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass),this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass),this.curNum.html(this.currentStep+1),this.allNum.html(this.stepsCount),this.options.maskAutoSize&&"number"==typeof this.options.step&&(this.tmpProps={},this.tmpProps[this.maskSizeProperty]=this.slides.eq(Math.min(this.currentStep,this.slides.length-1))[this.slideSizeFunction](!0),this.mask.stop()[a?"css":"animate"](this.tmpProps)),this.options.circularRotation||(this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass),0===this.currentStep&&this.btnPrev.addClass(this.options.disabledClass),this.currentStep===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass))},startRotation:function(){this.options.autoRotation=!0,this.galleryHover=!1,this.autoRotationStopped=!1,this.resumeRotation()},stopRotation:function(){this.galleryHover=!0,this.autoRotationStopped=!0,this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass),this.gallery.removeClass(this.options.autorotationActiveClass),clearTimeout(this.timer)},resumeRotation:function(){this.autoRotationStopped||(this.gallery.addClass(this.options.autorotationActiveClass),this.gallery.removeClass(this.options.autorotationDisabledClass),this.autoRotate())},autoRotate:function(){clearTimeout(this.timer),!this.options.autoRotation||this.galleryHover||this.autoRotationStopped?this.pauseRotation():this.timer=setTimeout(this.bindScope(function(){this.nextSlide(!0)}),this.options.switchTime)},bindScope:function(b,c){return a.proxy(b,c||this)},makeCallback:function(a){if("function"==typeof this.options[a]){var b=Array.prototype.slice.call(arguments);b.shift(),this.options[a].apply(this,b)}}};var c=function(){try{return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}catch(a){return!1}}();a.fn.scrollGallery=function(c){return this.each(function(){a(this).data("ScrollGallery",new b(a.extend(c,{holder:this})))})}}(jQuery);

/*
 * touchSwipe - jQuery Plugin
 * http://plugins.jquery.com/project/touchSwipe
 * http://labs.skinkers.com/touchSwipe/
 *
 * Copyright (c) 2010 Matt Bryson (www.skinkers.com)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * $version: 1.2.5
 */
;(function(a){a.fn.swipe=function(c){if(!this){return false}var k={fingers:1,threshold:75,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:true,allowPageScroll:"auto"};var m="left";var l="right";var d="up";var s="down";var j="none";var u="horizontal";var q="vertical";var o="auto";var f="start";var i="move";var h="end";var n="cancel";var t="ontouchstart" in window,b=t?"touchstart":"mousedown",p=t?"touchmove":"mousemove",g=t?"touchend":"mouseup",r="touchcancel";var e="start";if(c.allowPageScroll==undefined&&(c.swipe!=undefined||c.swipeStatus!=undefined)){c.allowPageScroll=j}if(c){a.extend(k,c)}return this.each(function(){var D=this;var H=a(this);var E=null;var I=0;var x={x:0,y:0};var A={x:0,y:0};var K={x:0,y:0};function z(N){var M=t?N.touches[0]:N;e=f;if(t){I=N.touches.length}distance=0;direction=null;if(I==k.fingers||!t){x.x=A.x=M.pageX;x.y=A.y=M.pageY;if(k.swipeStatus){y(N,e)}}else{C(N)}D.addEventListener(p,J,false);D.addEventListener(g,L,false)}function J(N){if(e==h||e==n){return}var M=t?N.touches[0]:N;A.x=M.pageX;A.y=M.pageY;direction=v();if(t){I=N.touches.length}e=i;G(N,direction);if(I==k.fingers||!t){distance=B();if(k.swipeStatus){y(N,e,direction,distance)}if(!k.triggerOnTouchEnd){if(distance>=k.threshold){e=h;y(N,e);C(N)}}}else{e=n;y(N,e);C(N)}}function L(M){M.preventDefault();distance=B();direction=v();if(k.triggerOnTouchEnd){e=h;if((I==k.fingers||!t)&&A.x!=0){if(distance>=k.threshold){y(M,e);C(M)}else{e=n;y(M,e);C(M)}}else{e=n;y(M,e);C(M)}}else{if(e==i){e=n;y(M,e);C(M)}}D.removeEventListener(p,J,false);D.removeEventListener(g,L,false)}function C(M){I=0;x.x=0;x.y=0;A.x=0;A.y=0;K.x=0;K.y=0}function y(N,M){if(k.swipeStatus){k.swipeStatus.call(H,N,M,direction||null,distance||0)}if(M==n){if(k.click&&(I==1||!t)&&(isNaN(distance)||distance==0)){k.click.call(H,N,N.target)}}if(M==h){if(k.swipe){k.swipe.call(H,N,direction,distance)}switch(direction){case m:if(k.swipeLeft){k.swipeLeft.call(H,N,direction,distance)}break;case l:if(k.swipeRight){k.swipeRight.call(H,N,direction,distance)}break;case d:if(k.swipeUp){k.swipeUp.call(H,N,direction,distance)}break;case s:if(k.swipeDown){k.swipeDown.call(H,N,direction,distance)}break}}}function G(M,N){if(k.allowPageScroll==j){M.preventDefault()}else{var O=k.allowPageScroll==o;switch(N){case m:if((k.swipeLeft&&O)||(!O&&k.allowPageScroll!=u)){M.preventDefault()}break;case l:if((k.swipeRight&&O)||(!O&&k.allowPageScroll!=u)){M.preventDefault()}break;case d:if((k.swipeUp&&O)||(!O&&k.allowPageScroll!=q)){M.preventDefault()}break;case s:if((k.swipeDown&&O)||(!O&&k.allowPageScroll!=q)){M.preventDefault()}break}}}function B(){return Math.round(Math.sqrt(Math.pow(A.x-x.x,2)+Math.pow(A.y-x.y,2)))}function w(){var P=x.x-A.x;var O=A.y-x.y;var M=Math.atan2(O,P);var N=Math.round(M*180/Math.PI);if(N<0){N=360-Math.abs(N)}return N}function v(){var M=w();if((M<=45)&&(M>=0)){return m}else{if((M<=360)&&(M>=315)){return m}else{if((M>=135)&&(M<=225)){return l}else{if((M>45)&&(M<135)){return s}else{return d}}}}}try{this.addEventListener(b,z,false);this.addEventListener(r,C)}catch(F){}})}})(jQuery);